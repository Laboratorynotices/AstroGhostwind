---
import { IProduct } from "../types";

// Возможные варианты классов ширины блока
enum widthClasses {
	"h-full",
	"w-1/3",
	"w-1/2",
	"w-2/3",
}

// Добавляем интерфейс продукта классом, определяющим ширину
interface ICardData extends IProduct {
	widthClass: widthClasses
}

// Получение данных
const {
	category,
	description,
	id,
	image,
	price,
	title,
	widthClass,
} = Astro.props as ICardData;
---

<div class={"w-full md:"+widthClass+" p-6 flex flex-col flex-grow flex-shrink"}>
	<div class="flex-1 bg-white rounded-t rounded-b-none overflow-hidden shadow-lg">
		<a href="#" class="flex flex-wrap no-underline hover:no-underline">
			<img src={image}
				class="h-64 w-full rounded-t pb-6">
			<p class="w-full text-gray-600 text-xs md:text-sm px-6 uppercase">{category}</p>
			<div class="w-full font-bold text-xl text-gray-900 px-6">{title}</div>
			<p class="text-gray-800 font-serif text-base px-6 mb-5">
				{description}
			</p>
		</a>
	</div>
	<div class="flex-none mt-auto bg-white rounded-b rounded-t-none overflow-hidden shadow-lg p-6">
		<div class="flex items-center justify-between">
			<img class="w-8 h-8 rounded-full mr-4 avatar" data-tippy-content={title}
				src={image} alt={title}>
			<p class="text-gray-600 text-xs md:text-sm">Price: {price}ŧ</p>
		</div>
	</div>
</div>